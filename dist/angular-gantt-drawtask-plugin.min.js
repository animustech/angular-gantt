/*
Project: angular-gantt v1.2.13 - Gantt chart component for AngularJS
Authors: Marco Schweighauser, RÃ©mi Alvergnat
License: MIT
Homepage: https://www.angular-gantt.com
Github: https://github.com/angular-gantt/angular-gantt.git
*/

!function(){"use strict";angular.module("gantt.drawtask",["gantt"]).directive("ganttDrawTask",["$document","ganttMouseOffset","ganttUtils","moment",function(a,b,c,d){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",moveThreshold:"=?",taskFactory:"=?"},link:function(e,f,g,h){var i=h.gantt.api;void 0===e.enabled&&(e.enabled=!0),void 0===e.moveThreshold&&(e.moveThreshold=0),void 0===e.taskFactory&&(e.taskFactory=function(){return{}});var j=function(a){return a.model.drawTask&&angular.isFunction(a.model.drawTask.taskFactory)?a.model.drawTask.taskFactory():e.taskFactory()};i.directives.on["new"](e,function(f,g,h){if("ganttRow"===f){var k=function(a){var b=i.core.getDateByPosition(a,!0),c=d(b),e=j(g.row);e.from=b,e.to=c;var f=g.row.addTask(e);f.isResizing=!0,f.updatePosAndSize(),g.row.updateVisibleTasks(),g.row.$scope.$digest()},l=function(c){var d=function(a){var f=b.getOffset(a).x;Math.abs(c-f)>=e.moveThreshold&&(h.off("mousemove",d),k(c))};h.on("mousemove",d),a.on("mouseup",function(){h.off("mousemove",d)})},m=function(a){var d=a.target?a.target:a.srcElement,f=g.row.model.drawTask;("boolean"==typeof f||angular.isFunction(f))&&(f={enabled:f});var h=c.firstProperty([f],"enabled",e.enabled),i=angular.isFunction(h)?h(a):h;if(i&&d.className.indexOf("gantt-row")>-1){var j=b.getOffset(a).x;0===e.moveThreshold?k(j,j):l(j)}};h.on("mousedown",m),g.drawTaskHandler=m}}),i.directives.on.destroy(e,function(a,b,c){"ganttRow"===a&&(c.off("mousedown",b.drawTaskHandler),delete b.drawTaskHandler)})}}}])}(),angular.module("gantt.drawtask.templates",[]).run(["$templateCache",function(a){}]);
//# sourceMappingURL=angular-gantt-drawtask-plugin.min.js.map